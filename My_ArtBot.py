import telebot
import schedule
import time
import random
from threading import Thread

TOKEN = "7771824400:AAEbgP15U9yFOeHtHSzeqawXrXSwwShgs4I"
CHAT_ID = "@arinalien_bot"
bot = telebot.TeleBot(TOKEN)

# –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞–Ω–∏–π
TASKS = {
    1: "–ò–∑—É—á–∏—Ç—å 10-15 –∏–ª–ª—é—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ Bang Bang –∏ –∑–∞–ø–∏—Å–∞—Ç—å –∑–∞–º–µ—Ç–∫–∏.",
    2: "–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å 2-3 —Å—Ç–∏–ª—è –≤ –º–∏–Ω–∏-—ç—Å–∫–∏–∑–∞—Ö.",
    3: "–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –∏–¥–µ–∏ –¥–ª—è 3 –ø—Ä–æ–µ–∫—Ç–æ–≤.",
    4: "–ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞–¥ –ø–µ—Ä–≤—ã–º –ø—Ä–æ–µ–∫—Ç–æ–º: –∫–æ–º–ø–æ–∑–∏—Ü–∏—è + —ç—Å–∫–∏–∑—ã.",
    5: "–î–æ—Ä–∞–±–æ—Ç–∫–∞ –¥–µ—Ç–∞–ª–µ–π –∏ —Ü–≤–µ—Ç –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.",
    6: "–ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞–¥ –≤—Ç–æ—Ä—ã–º –ø—Ä–æ–µ–∫—Ç–æ–º: –∫–æ–º–ø–æ–∑–∏—Ü–∏—è + —ç—Å–∫–∏–∑—ã.",
    7: "–§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è –≤—Ç–æ—Ä–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞: –¥–µ—Ç–∞–ª–∏ –∏ —Ü–≤–µ—Ç."
}

# –°–ø–∏—Å–æ–∫ –Ω–∞–≥—Ä–∞–¥
REWARDS = [
    "üé¨ –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∏–ª—å–º –æ —Ö—É–¥–æ–∂–Ω–∏–∫–∞—Ö: https://www.imdb.com/title/tt0119822/",
    "üé® –§–∞–∫—Ç: –í–∞–Ω –ì–æ–≥ –ø—Ä–æ–¥–∞–ª –≤—Å–µ–≥–æ –æ–¥–Ω—É –∫–∞—Ä—Ç–∏–Ω—É –∑–∞ —Å–≤–æ—é –∂–∏–∑–Ω—å!",
    "üìñ –ü–æ–ª–µ–∑–Ω–∞—è —Å—Ç–∞—Ç—å—è –æ–± –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–∏: https://medium.com/design-articles",
    "üñå –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –∞—Ä—Ç-—á–µ–ª–ª–µ–Ω–¥–∂: –Ω–∞—Ä–∏—Å—É—é –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—é –º–∞—Å–ª—è–Ω–Ω–æ–π –ø–∞—Ç–µ–ª—å—é –Ω–∞ —Ñ–æ—Ä–º–∞—Ç–µ –∞3",
    "üé≠ –ë–∏–æ–≥—Ä–∞—Ñ–∏—è –≤–µ–ª–∏–∫–æ–≥–æ —Ö—É–¥–æ–∂–Ω–∏–∫–∞: https://www.biography.com/artist",
    "üì∫ –í–∏–¥–µ–æ —Å —Ä–∞–∑–±–æ—Ä–æ–º —Å—Ç–∏–ª–µ–π –∏–ª–ª—é—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤: https://www.youtube.com/watch?v=dQw4w9WgXcQ"
]

user_progress = {}  # –•—Ä–∞–Ω–∏—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è

@bot.message_handler(commands=['start'])
def start(message):
    bot.send_message(message.chat.id, "–ü—Ä–∏–≤–µ—Ç! –Ø —Ç–≤–æ–π –±–æ—Ç-–Ω–∞—Å—Ç–∞–≤–Ω–∏–∫. –ë—É–¥—É –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ç–µ–±–µ –∑–∞–¥–∞–Ω–∏—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.")
    send_task()

# –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–¥–∞–Ω–∏—è
def send_task():
    day = len(user_progress) + 1
    if day in TASKS:
        bot.send_message(CHAT_ID, f"üéØ –ó–∞–¥–∞–Ω–∏–µ –¥–Ω—è {day}: {TASKS[day]}")
    else:
        bot.send_message(CHAT_ID, "‚úÖ –í—Å–µ –∑–∞–¥–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã! –í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É –≤ Bang Bang.")

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–º–µ—Ç–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –≤—ã–¥–∞—á–∏ –Ω–∞–≥—Ä–∞–¥—ã
@bot.message_handler(commands=['done'])
def mark_done(message):
    day = len(user_progress) + 1
    user_progress[day] = True
    bot.send_message(message.chat.id, f"‚úÖ –ó–∞–¥–∞–Ω–∏–µ {day} –≤—ã–ø–æ–ª–Ω–µ–Ω–æ!")
    reward = random.choice(REWARDS)
    bot.send_message(message.chat.id, f"üèÜ –ù–∞–≥—Ä–∞–¥–∞ –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ: {reward}")
    send_task()

# –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞–Ω–∏—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
def daily_task():
    send_task()

schedule.every().day.at("10:00").do(daily_task)  # –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–¥–∞–Ω–∏–µ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 10 —É—Ç—Ä–∞

# –®—Ç—Ä–∞—Ñ –∑–∞ –Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è
schedule.every().day.at("22:00").do(lambda: bot.send_message(CHAT_ID, "‚ùå –¢—ã –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª –∑–∞–¥–∞–Ω–∏–µ! –®—Ç—Ä–∞—Ñ: –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–π –±–æ–Ω—É—Å!"))

def schedule_checker():
    while True:
        schedule.run_pending()
        time.sleep(60)

# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –∏ –ø–æ—Ç–æ–∫–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —à—Ç—Ä–∞—Ñ–æ–≤
Thread(target=schedule_checker).start()
bot.polling()
